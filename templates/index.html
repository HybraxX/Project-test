<script>
        // 1. Function to auto-fetch Sensor Data
        async function updateDashboard() {
            try {
                // Call the Python API
                const response = await fetch('/api/sensors');
                const data = await response.json();

                // Check if we got valid data
                if (data) {
                    console.log("Sensors updated:", data);

                    // A. Update the Visual Display (The Read-Only inputs)
                    // Ensure your input fields have these exact IDs:
                    // id="Temperature", id="Humidity", id="Soil_Moisture"
                    
                    if(document.getElementById('Temperature')) 
                        document.getElementById('Temperature').value = data.Temperature;
                    
                    if(document.getElementById('Humidity')) 
                        document.getElementById('Humidity').value = data.Humidity;
                    
                    if(document.getElementById('Soil_Moisture')) 
                        document.getElementById('Soil_Moisture').value = data.Soil_Moisture;

                    // If you want to show Water Level somewhere (even though model doesn't use it)
                    // Create an element <span id="water-display"></span> in your HTML
                    if(document.getElementById('water-display')) 
                        document.getElementById('water-display').innerText = data.Water_Level + "%";
                }
            } catch (error) {
                console.error("Error fetching sensor data:", error);
            }
        }

        // 2. Start the Loop (Run every 2000 milliseconds = 2 seconds)
        setInterval(updateDashboard, 2000);

        // 3. Run once immediately on load
        document.addEventListener('DOMContentLoaded', updateDashboard);


        // --- YOUR EXISTING PREDICTION LOGIC BELOW ---
        const form = document.getElementById('prediction-form');
        const resultDiv = document.getElementById('result');
        const predictButton = document.querySelector('.btn-predict');
        const resultContainer = document.getElementById('result-container'); 

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            // ... (Rest of your existing submit logic) ...
        });

    </script>
</body>
</html>